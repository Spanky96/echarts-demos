<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>案件条线分析</title>
		<link href="css/style.css" rel="stylesheet" type="text/css" />
		<script type="text/javascript" src="js/jquery-1.11.2.min.js"></script>
	</head>

	<body>
		<div class="ind01"></div>
		<div class="ind02">
			<h1>案件条线分析</h1></div>

		<div class="ind69">
			<h2>江阴市案由<span>TOP5</span></SPAN></h2>
			<div class="ind70">
				<table cellpadding="0" cellspacing="0" border="0" width="100%">
					<tr>
						<td width="50" align="center"><img src="images/img065.png" /></td>
						<td>这是案由啊这是案由啊这是案由啊这是案由啊这是案</td>
						<td width="130" class="spec_num"><span>20</span><em>60%</em></td>
					</tr>
					<tr>
						<td align="center"><img src="images/img066.png" /></td>
						<td>这是案由啊这是案由啊这是案由啊</td>
						<td class="spec_num"><span>20</span><em>60%</em></td>
					</tr>
					<tr>
						<td align="center"><img src="images/img067.png" /></td>
						<td>这是案由啊这是案由啊这是案由啊</td>
						<td class="spec_num"><span>20</span><em>60%</em></td>
					</tr>
					<tr>
						<td align="center"><img src="images/img068.png" /></td>
						<td>这是案由啊这是案由啊这是案由啊</td>
						<td class="spec_num"><span>20</span><em>60%</em></td>
					</tr>
					<tr>
						<td align="center"><img src="images/img069.png" /></td>
						<td>这是案由啊这是案由啊这是案由啊</td>
						<td class="spec_num"><span>20</span><em>60%</em></td>
					</tr>
				</table>
			</div>
		</div>
		<div class="ind71">
			<div class="ind72">
				<h2>各镇街案件条线分析</h2>
				<div class="ind74"><div id="echart" style="width: 100%;height:320px;"></div></div>
			</div>
			<div class="ind73">
				<div class="ind75">
					<div class="ind76">
						<div class="ind76_l fl">
							<div class="ind77">
								<h3>周庄镇案由TOP5</h3></div>
							<div class="ind78">
								<div class="ind78_box">
									<div class="ind78_box_l fl">1</div>
									<div class="ind78_box_m fl">案由案由案由</div>
									<div class="ind78_box_r fr"><span>30</span>6%</div>
									<div class="clear"></div>
								</div>
								<div class="ind78_box">
									<div class="ind78_box_l fl">2</div>
									<div class="ind78_box_m fl">案由案由案由</div>
									<div class="ind78_box_r fr"><span>30</span>6%</div>
									<div class="clear"></div>
								</div>
								<div class="ind78_box">
									<div class="ind78_box_l fl">3</div>
									<div class="ind78_box_m fl">案由案由案由</div>
									<div class="ind78_box_r fr"><span>30</span>6%</div>
									<div class="clear"></div>
								</div>
								<div class="ind78_box">
									<div class="ind78_box_l fl">4</div>
									<div class="ind78_box_m fl">案由案由案由</div>
									<div class="ind78_box_r fr"><span>30</span>6%</div>
									<div class="clear"></div>
								</div>
								<div class="ind78_box">
									<div class="ind78_box_l fl">5</div>
									<div class="ind78_box_m fl">案由案由案由</div>
									<div class="ind78_box_r fr"><span>30</span>6%</div>
									<div class="clear"></div>
								</div>
							</div>
						</div>
						<div class="ind76_m fl">
							<div class="ind81">
								<div class="ind79">卫生监督案由排名</div>
								<div class="ind80">
									<ul>
										<li class="dark"><span>1、这是案由啊这是案由啊</span><em>1254</em></li>
										<li><span>2、这是案由啊这是案由啊</span><em>1254</em></li>
										<li class="dark"><span>3、这是案由啊这是案由啊</span><em>1254</em></li>
										<li><span>4、这是案由啊这是案由啊</span><em>121254</em></li>
										<li class="dark"><span>5、这是案由啊这是案由啊</span><em>1254</em></li>
									</ul>
								</div>
							</div>
							<div class="ind81 none">
								<div class="ind79">国土资源案由排名</div>
								<div class="ind80">
									<ul>
										<li class="dark"><span>1、这是案由啊这是案由啊2</span><em>1254</em></li>
										<li><span>2、这是案由啊这是案由啊</span><em>1254</em></li>
										<li class="dark"><span>3、这是案由啊这是案由啊</span><em>1254</em></li>
										<li><span>4、这是案由啊这是案由啊</span><em>121254</em></li>
										<li class="dark"><span>5、这是案由啊这是案由啊</span><em>1254</em></li>
									</ul>
								</div>
							</div>
							<div class="ind81 none">
								<div class="ind79">市场监督案由排名</div>
								<div class="ind80">
									<ul>
										<li class="dark"><span>1、这是案由啊这是案由啊3</span><em>1254</em></li>
										<li><span>2、这是案由啊这是案由啊</span><em>1254</em></li>
										<li class="dark"><span>3、这是案由啊这是案由啊</span><em>1254</em></li>
										<li><span>4、这是案由啊这是案由啊</span><em>121254</em></li>
										<li class="dark"><span>5、这是案由啊这是案由啊</span><em>1254</em></li>
									</ul>
								</div>
							</div>
							<div class="ind81 none">
								<div class="ind79">劳动保障案由排名</div>
								<div class="ind80">
									<ul>
										<li class="dark"><span>1、这是案由啊这是案由啊4</span><em>1254</em></li>
										<li><span>2、这是案由啊这是案由啊</span><em>1254</em></li>
										<li class="dark"><span>3、这是案由啊这是案由啊</span><em>1254</em></li>
										<li><span>4、这是案由啊这是案由啊</span><em>121254</em></li>
										<li class="dark"><span>5、这是案由啊这是案由啊</span><em>1254</em></li>
									</ul>
								</div>
							</div>
							<div class="ind81 none">
								<div class="ind79">交通运输案由排名</div>
								<div class="ind80">
									<ul>
										<li class="dark"><span>1、这是案由啊这是案由啊5</span><em>1254</em></li>
										<li><span>2、这是案由啊这是案由啊</span><em>1254</em></li>
										<li class="dark"><span>3、这是案由啊这是案由啊</span><em>1254</em></li>
										<li><span>4、这是案由啊这是案由啊</span><em>121254</em></li>
										<li class="dark"><span>5、这是案由啊这是案由啊</span><em>1254</em></li>
									</ul>
								</div>
							</div>
							<div class="ind81 none">
								<div class="ind79">环境保护案由排名</div>
								<div class="ind80">
									<ul>
										<li class="dark"><span>1、这是案由啊这是案由啊6</span><em>1254</em></li>
										<li><span>2、这是案由啊这是案由啊</span><em>1254</em></li>
										<li class="dark"><span>3、这是案由啊这是案由啊</span><em>1254</em></li>
										<li><span>4、这是案由啊这是案由啊</span><em>121254</em></li>
										<li class="dark"><span>5、这是案由啊这是案由啊</span><em>1254</em></li>
									</ul>
								</div>
							</div>
							<div class="ind81 none">
								<div class="ind79">农林水利案由排名</div>
								<div class="ind80">
									<ul>
										<li class="dark"><span>1、这是案由啊这是案由啊7</span><em>1254</em></li>
										<li><span>2、这是案由啊这是案由啊</span><em>1254</em></li>
										<li class="dark"><span>3、这是案由啊这是案由啊</span><em>1254</em></li>
										<li><span>4、这是案由啊这是案由啊</span><em>121254</em></li>
										<li class="dark"><span>5、这是案由啊这是案由啊</span><em>1254</em></li>
									</ul>
								</div>
							</div>
							<div class="ind81 none">
								<div class="ind79">城乡建设案由排名</div>
								<div class="ind80">
									<ul>
										<li class="dark"><span>1、这是案由啊这是案由啊8</span><em>1254</em></li>
										<li><span>2、这是案由啊这是案由啊</span><em>1254</em></li>
										<li class="dark"><span>3、这是案由啊这是案由啊</span><em>1254</em></li>
										<li><span>4、这是案由啊这是案由啊</span><em>121254</em></li>
										<li class="dark"><span>5、这是案由啊这是案由啊</span><em>1254</em></li>
									</ul>
								</div>
							</div>
							<div class="ind81 none">
								<div class="ind79">城市管理案由排名</div>
								<div class="ind80">
									<ul>
										<li class="dark"><span>1、这是案由啊这是案由啊9</span><em>1254</em></li>
										<li><span>2、这是案由啊这是案由啊</span><em>1254</em></li>
										<li class="dark"><span>3、这是案由啊这是案由啊</span><em>1254</em></li>
										<li><span>4、这是案由啊这是案由啊</span><em>121254</em></li>
										<li class="dark"><span>5、这是案由啊这是案由啊</span><em>1254</em></li>
									</ul>
								</div>
							</div>
							<div class="ind81 none">
								<div class="ind79">安全生产案由排名</div>
								<div class="ind80">
									<ul>
										<li class="dark"><span>1、这是案由啊这是案由啊10</span><em>1254</em></li>
										<li><span>2、这是案由啊这是案由啊</span><em>1254</em></li>
										<li class="dark"><span>3、这是案由啊这是案由啊</span><em>1254</em></li>
										<li><span>4、这是案由啊这是案由啊</span><em>121254</em></li>
										<li class="dark"><span>5、这是案由啊这是案由啊</span><em>1254</em></li>
									</ul>
								</div>
							</div>
						</div>
						<div class="ind76_r fr">
							<div class="ind77"><h3>周庄镇案件总数</h3></div>
							<div class="ind82">
								<div class="ind83 ind82_1 on1">卫生监督 <span>1245</span></div>
								<div class="ind83 ind82_2 ">国土资源 <span>1245</span></div>
								<div class="ind83 ind82_3 ">市场监督 <span>1245</span></div>
								<div class="ind83 ind82_4 ">劳动保障 <span>1245</span></div>
								<div class="ind83 ind82_5 ">交通运输 <span>1245</span></div>
								<div class="ind85 ind82_6 ">环境保护 <span>1245</span></div>
								<div class="ind85 ind82_7 ">农林水利 <span>1245</span></div>
								<div class="ind85 ind82_8 ">城乡建设 <span>1245</span></div>
								<div class="ind85 ind82_9 ">城市管理 <span>1245</span></div>
								<div class="ind85 ind82_10">安全生产 <span>1245</span></div>
								<div class="ind84">457898798</div>
								
							</div>
						</div>
						<div class="clear"></div>
					</div>
				</div>
			</div>
		</div>
		<script src="js/echarts.min.js"></script>
		<script src="js/ajczqk.js"></script>
		<script>
			$(".ind83").click(function() {
				$(".ind85").removeClass("on2");		
				$(this).addClass('on1');
				var index = $(this).index();
				$(this).addClass("on1").siblings().removeClass("on1");
				$(".ind81").eq(index).show().siblings().hide();				
			});
			$(".ind85").click(function() {
				$(".ind83").removeClass("on1");	
				$(".ind85").removeClass("on2");	
				$(this).addClass('on2');
				var index = $(this).index();				
				$(this).addClass("on2").siblings().removeClass("on2");
				$(".ind81").eq(index).show().siblings().hide();				
			});
			var myChart = echarts.init(document.getElementById('echart'), 'ajczqk');

			// 柱子点击事件
			myChart.on('click', function(param) {
				var index = 0;
				if (param.componentType == "series") {
					index = param.dataIndex;
				} else if (param.componentType == "xAxis") {
					index = dataObj.findIndex(function(n) {
						return n.name == param.value;
					});
				} else {
					return;
				}
				currentIndex = index;
				updateChart(dataObj);
				// TODO 其他逻辑
			});
			// 默认指向第一个（顾山镇）
			var currentIndex = 0;

			// 数据模型
			var dataObj = [
				{name: '顾山镇', value: 100},{name: '长泾镇', value: 200},{name: '新桥镇', value: 150},
				{name: '祝塘镇', value: 450},{name: '华士镇', value: 900},{name: '周庄镇', value: 120},
				{name: '徐霞客镇', value: 422},{name: '青阳镇', value: 300},{name: '月城镇', value: 100},
				{name: '南闸街道', value: 457},{name: '云亭街道', value: 700},{name: '城东街道', value: 100},
				{name: '澄江街道', value: 212},{name: '夏港街道', value: 578},{name: '利港街道', value: 886},
				{name: '申港街道', value: 788},{name: '璜土镇', value: 100}
			];

			// chart更新接口
			function updateChart(dataObj) {
				var option = {
				grid:{
					x:50,
					y:10,
					x2:10,
					y2:120
				},
				tooltip : {
					trigger : 'axis',
					show:true,
				},
    			calculable : true,
				xAxis : [
					{
						type : 'category',
						data : dataObj.map(function(n){return n.name;}),
						axisLabel: {
							interval:0,
							fontSize: 22,
							formatter: function (value) {
								var str = value.split("");
								return dataObj[currentIndex].name == value ? '{color1|' + str.join("\n") + '\n▲}' : '{color2|' + str.join("\n") + '}';
							},
							rich: {
								color1: {
									fontSize: 22,
									color: '#FF890C'
								},
								color2: {
									fontSize: 22,
									color: '#fff'
								}
							}
						},
						splitLine: {show: false},
						axisTick: {show: false},
						triggerEvent: true
					}
				],
				yAxis : [
					{
						type : 'value',
						axisLabel: {
							fontSize: 22
						}
					}
				],
				series : {
					type: 'bar',
					data: dataObj.map(function(n){return n.value;}),
					barGap:'150%', 
					barWidth: 25,
					itemStyle: {
						normal: {
							color: function(value) {
								if (value.dataIndex == currentIndex) {
									return new echarts.graphic.LinearGradient(
										0, 0, 0, 1,
										[
											{offset: 0, color: '#FEB17C'},
											{offset: 1, color: '#FF8628'}
										]
									);
								} else {
									return new echarts.graphic.LinearGradient(
										0, 0, 0, 1,
										[
											{offset: 0, color: '#01C19A'},
											{offset: 1, color: '#2F9AF8'}
										]
									);
								}
							}
						},
						emphasis: {
							color: new echarts.graphic.LinearGradient(
								0, 0, 0, 1,
								[
									{offset: 0, color: '#7bf82f'},
									{offset: 1, color: '#04c37e'}
								]
							)
						}
					}
				}
			};
				myChart.setOption(option);
			}
			// 首次加载自动更新
			updateChart(dataObj);
		</script>
	</body>

</html>